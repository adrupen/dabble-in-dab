<!DOCTYPE html>
<html>
<head>
	<title>DAB Providers Explorer</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
	<style type="text/css">
		html, body {
			width: 100%;
			height: 100%;
			margin: 0px;
			background-color: #2a2f35;
		}
		#DABnetwork {
			width: 100%;
			height: 100%;
			border: 1px solid lightgray;
		}

	</style>
</head>
<body>

	<div id="DABnetwork">
		

	</div>
	<script type="text/javascript">
		var nodes = new vis.DataSet([
				{id: 1, label: "DAB"},
			]);

		var edges = new vis.DataSet([

			]);

		var container = document.getElementById("DABnetwork");
		var data = {
			nodes: nodes,
			edges: edges
		};

		var options = {
			nodes: {
				shape: "dot",
				size: 25,
				font: {
					size: 30,
					color: "#FFFFFF",
				},
				borderWidth: 2,
			},
			edges: {
				width: 2,
			}
		};
		var network = new vis.Network(container, data, options);

		function httpGetAsync(theUrl, callback)
		{
		    var xmlHttp = new XMLHttpRequest();
		    xmlHttp.onreadystatechange = function() { 
		        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
		        	var result = JSON.parse(xmlHttp.responseText);
		            callback(result);
		    }
		    xmlHttp.open("GET", theUrl, true); // true for asynchronous 
		    xmlHttp.send(null);
		}

		httpGetAsync("http://api.geodab.eu/dab/services/api-rest/sources", function(result){
			for (var i = result.reports.length - 1; i >= 0; i--) {
				nodes.add({
					id: result.reports[i].id,
					label: result.reports[i].title,
				});
				edges.add({
					from: 1,
					to: result.reports[i].id,
				});
			}
		});
	</script>
</body>
</html>
